Title:	jmdict::get_seq only work for jmdict seq numbers
Stat:	closed
Disp:	done
Prio:	high
Cats:	dev
Reqtrs:	
AssdTo:	stuart@friix.com

2007-06-17 00:00:00 stuart@friix.com
  When adding new entries, jmdict:;add_entr() call jmdict::get_seq() to
  get a new sequence number but the latter fuction returns only jmdict seq
  numbers.  Need to figure out how to generate new seq numvers for other
  sources, and make get_seq() support them.

2007-07-25 00:00:00 stuart@friix.com
  Added an new column 'seq' to table kwsrc that names the sequence to be
  used when assigning default seq values to new 'entr' rows.
  Added an insert trigger to table 'entr' to assign 'seq' value from
  appropriate sequence when not explicitly given in the INSERT statement.
  Also updated syncseq to update the new sequences.
  Don't use jmdict::get_seq() to provide a default value any more, just
  leave 'seq' NULL and rely on the trigger to insert the right value.
  
  Problems:
  
  May need create new sequences when new src's added.  (E.g. if a second
  version of jmdict is added, need a new sequence to supply its default
  seq numbers.)
  
  If entr.src is changed, also need to check the entr.seq has an
  appropriate value. (This is standard side-effect of unnormalized
  design.)
  
  Trigger may significantly slow down inserts? (But insert rate normally
  expected to be low wnough that this should not be problem in practice.
  High volume inserts done via COPY.)
