Title:	Adjust web page UI for kanjidic in database.
Stat:	open
Disp:	
Prio:	low
Cats:	dev
Reqtrs:	
AssdTo:	

2008-04-24 21:55:19 sysad
  Have added experimental support for loading kanjidic2 files
  but it presents some UI issues:
  * Do we want kanjidic to be option in corpus selection on
    search page.  (Probably not -- kanji search likely needs
    its own search form.)
  * When executing searches we need to filter kanjidic results
    out when building search criteria.
  * It uses some unique RINF values -- do we want these to be
    shown on the general search form (web/cgi/srchform.py)?
    If kanjidic not available in the corpus selections, then
    definately "no".  And definately "no" for pages used for
    the wwwjdic submission system.)
  * All the above require knowing which corpora are kanjidic.
    Don't want to hardwire magic id's or keywords.  Add column
    to kwsrc table?
    [Can we use existance of .chr attribute on entry object?]
  * What about corpus dropdown list on edit page?  Should edconf.py
    (and edsubmit.py) pages refuse to accept entries wiyj kanjidic
    corpus?
  * entr page probably ok as is since its driven by entr.id
  * shentr.py util probably ok since that in internal tool and
    should allow display of kanji entries is desired.
  
  We'll need a dedicated kanjidic search, results pages but will
  open separate issue for that -- this issue is about how to
  load kanjidic into database and not create UI confusion for
  uses of current pages.  See also IS-129.

2008-04-24 22:28:00 sysad
  As a temp measure will assume kanjidic corpus is always id=4.
  * Modified web/cgi/srchform.py to filter kanjidic corpus out
    of corpus list and kanjidic-specific rinf values out of rinf
    list.
  * Modified srchres.py to always add a "entr.src!=4" condition
    when building search criteria.

2008-06-03 19:18:00 sysad
  Fixed a typo that prevented the kanjidic corpus from being 
  suppressed on the web/cgi/srchform.py page.

2012-05-03 13:26:00 stuart
  Modify the entr.tal template to display kanjidic info (in
  entr.chr attribute) if present.
  Issues:
   Can't edit any of this info.
   Need to check and make sure .chr is passed though edits 
    unchanged when the entr info is edited.
   Normal skip code and misclassified skip code both displayed
    as "skip: xxx".  (This is problem with kdparse and db schema
    neither of which distinguishes them.)
   "References" (the cinf table info) should be devided into 
    four tables: References, Classifications (the qc elements)
    in the kanjidic xml and "other readings" (the korean, chinese
    etc reading), encodigns.  These changes will be easier with
    database support (e.g. separate tables), or api support (split
    the .cinf list into 4 lists.)
   References table should be sorted by name.
   Should add ecodings (unicode CP, utf8, iso2022jp, euc-sp, sjis,
    along with the jis208 value in kanjidic.
