Title:	Xref to full entries
Stat:	open
Disp:	
Prio:	med
Cats:	dev
Reqtrs:	
AssdTo:	

2008-07-05 11:31:00 stuart
  Current database design assumes that xrefs are from
  an entry sense to an entry sense.  However there are 
  some xrefs in JMdict that legitimately seem to be referring
  the entire entry (or at least I don't see any specific 
  senses in the target entry that seem especially relevant 
  to the source entry/sense.  For example:

    1193110 架かる 【 かかる 】 to span; to bridge; to cross; to straddle

  doesn't seem to match any particular sense in its xref
  target: 

    1207590 掛かる 【 かかる 】 to take / to hang / to come into view;to
    arrive / to come under (a contract, a tax) / to start (engines,
    motors) / to attend;to deal with;to handle / to have started
    to;to be on the verge of / to overlap (e.g. information in a
    manual);to cover / to (come) at / to be fastened / to be covered
    (e.g. with dust, a table-cloth, etc.) / to be caught in / to
    get a call / to depend on  

  So perhaps we do need to make provision for this since displaying
  an xref link to every target sense is visually noisy.

2008-07-05 11:31:00 stuart
  Two ways to do this (without completely revamping the db schema:
  1. When displaying xrefs see if the number of xrefs is the same
     as the number of senses in the target entry, and if so display
     an "entry" xref.
     +: Does not change current database schema or parsing/xml gen
	code, only change needed is to display code.
     -/+: Does not distinguish between, say, a 2-sense target in which
	we want to explicit xref both senses, and one where we want
	to target the entire entry.  (Or is this a distinction without
	a difference?)
     -: Creates many xrefs records to denote an "entry" xref where
	one could do.
     -: When new sense added to target entry, additional xref needs 
	to be added to all source entries or existing xrefs seem to
	magically revert back to sense xrefs.
  2. Modify xref table and add a boolean column, "xall" to that
     when true indicates that this xref is an "entry" xref.  There 
     will only be one "entry" xref in a source sense, and its target
     sense will always be "1".
     +: Simplifies display code since only one xref will (should)
	exist in the entry-xref case and check for entry case is
	easy.
     +: Reduces number of xref records since only one "entry" xref 
	is generated in this case, rather than multiple sense xrefs.
     -: Denormalizes xref table.  two xrefs, one or more with xall set
	is possible but inconsistent.  Need app code to prevent this.
