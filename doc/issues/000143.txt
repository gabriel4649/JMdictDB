Title:	Inconsistent seq# and dfrm leads to problems 
Stat:	open
Disp:	
Prio:	med
Cats:	dev
Reqtrs:	
AssdTo:	

2009-02-04 16:30:00 stuart
  The cgi edit form (python/edform.py, python/lib/tmpl/edform.tal)
  allows changing the seq number and corpus of an entry.  If there
  are no entries with the changed corpus/seq, all is well.  But if
  there are, there will be no connection between the new and pre-
  existing entries via dfrm.  As as result, the normal approval
  process can result in more than one Active/Approved entry with
  the same seq number in the same corpus, with violates an assumtion
  that some code depends on (besides being confusing.)

2009-02-04 16:31:00 stuart
  Possible solutions:

  Prohibit (via entr table trigger) adding entry if root entr of
  new entr is not same as root entr of all entries of that seq.
  (cons: this is an expensive check to make on every addition.)
  (But: all dfrm values of the set (seq,corp) should be the same
  of none so all we really have to do is check for existence of
  new entry's dfrm in that set).
