Title:	Remove POS tags 'v5' and 'adj'
Stat:	closed
Disp:	done
Prio:	med
Cats:	dev
Reqtrs:	
AssdTo:	

2010-07-15 07:00:00 stuart
  After a discussion on the edict list ("Obsolete tags", 2010-07-14)
  it turns out that the POS tags, 'v5' and 'adj', are no longer used
  in JMdict and jwb et.al. would like them removed to prevent people
  from inadvertantly using them.

2010-07-15 07:08:00 stuart
  Tested procedure on my test machine.

  As always, when working on the live database, it is good to have
  a backup:  pg_dump -Fc jmdict >jmdict.bck

  Verify there are no occurances of v5 or adj in database:
    psql jmdict
    select * from kwpos;  -- Note that ids of 'adj' and 'v5'  
    	     	  	  --  are 57 and 29 respectively.  
    select * from pos where kw in (57,29);
    	     	      	  -- Shows 0 rows, good, confirms those 
                          --  tags are not used..
    delete from kwpos where id in (57,29);

  There are some tools that read the kw (tag) values directly 
  from the csv files, so remove adj and v5 from pg/data/pos.csv.

  Edit python/lib/dtd_jmdict.xml and dtd_jmdict_ex.xml files and
  remove the adj and v5 entities.

  This is sufficient to effectively remove the 'adj' and 'pos'
  tags from a running instance of jmdictdb.  

2010-07-15 08:13:00 stuart
  Further cleanup in the code needed to
  - Remove tests that used the 'adj' or 'v5' tags.
  - Remove references to 'v5' in the help file edhelp.tal.

  Running tests show that 4 tests in  test_jdb_kwds.Test_actual_csv
  and .Test_actual_db are failing.  Since the tests are explicitly
  for the removed tags, deleted the tests from 
  python/tests/test_jdb_kwds.py.

  Edited python/lib/tmpl/edhelp.tal and changed "v5" in exmples to
  "v5u".
