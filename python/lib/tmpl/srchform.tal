<html xmlns:tal="http://www.owlfish.com/simpletal/4.1/">
<!--? Copyright (c) 2008 Stuart McGraw -->
<!--? $Revision$ $Date$ -->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../jmdict.css"/>
  <title>JMdictDB search form</title>
</head>
<body class="srchfrm">
  <div metal:use-macro="macros/macros/login">
    <h3 metal:fill-slot="title">Search Form</h3>
    </div>
  <form action="srchres.py" name="srchres" tal:attributes="method method">
    <table class="form">
      <tr>
	<td>
	  <table class="top">
	    <tr>
	      <td>
	        <table class="txtsrch">
		  <tr>
		    <td>Search in</td>
		    <td>Search type</td>
		    <td>For text</td>
		    </tr>
		  <tr>
		    <td>
		      <select name="s1">
			<option value="1" selected="selected">Auto</option>
			<option value="2">Kanji</option>
			<option value="3">Reading</option>
			<option value="4">Gloss</option>
			</select>
		      </td>
		    <td>
		      <select name="y1">
			<option value="1" selected="selected">Is</option>
			<option value="2">Starts</option>
			<option value="3">Contains</option>
			<option value="4">Ends</option>
			</select>
		      </td>
		    <td><input name="t1"/></td>
		    </tr>
		  <tr>
		    <td>
		      <select name="s2">
			<option value="1" selected="selected">Auto</option>
			<option value="2">Kanji</option>
			<option value="3">Reading</option>
			<option value="4">Gloss</option>
			</select>
			</td>
		    <td>
		      <select name="y2">
			<option value="1" selected="selected">Is</option>
			<option value="2">Starts</option>
			<option value="3">Contains</option>
			<option value="4">Ends</option>
			</select>
		      </td>
		    <td><input name="t2"/></td>
		    </tr>
		  <tr>
		    <td>
		      <select name="s3">
			<option value="1" selected="selected">Auto</option>
			<option value="2">Kanji</option>
			<option value="3">Reading</option>
			<option value="4">Gloss</option>
			</select>
		      </td>
		    <td>
		      <select name="y3">
			<option value="1" selected="selected">Is</option>
			<option value="2">Starts</option>
			<option value="3">Contains</option>
			<option value="4">Ends</option>
			</select>
		      </td>
		    <td><input name="t3"/></td>
		    </tr>
	          </table>
	        </td>

	      <td>Search by Id or Seq number:
	        <table class="idsrch">
		  <tr>
		    <td>Type:</td>
		    <td>
		      <select name="idtyp">
			<option value="seq">Entry Seq</option>
			<option value="id">Entry Id</option>
			</select>
		      </td>
		    </tr>
		  <tr>
		    <td>Value:</td>
		    <td><input name="idval" size="7"/></td>
		    </tr>
		  <tr>
		    <td class="notice" colspan="2">Search by Id or Seq number superceeds all other criteria (except Corpus for Seq number).</td>
		    </tr>
		  <tr>
		    <td>
		      <input name="search" value="Search" type="submit"/>
		      <input type="hidden" name="svc" tal:condition='svc' tal:attributes="value svc"/>
		      <input type="hidden" name="sid" tal:condition="sid" tal:attributes="value sid"/>		      <!-- <input type="hidden" name="srchres" value="1"/> -->
		      </td>
		    <td><input type="reset" value="Reset"/></td>
		    </tr>
		  </table> 
	        </td>
	      </tr>

	    <tr><td colspan="2"> </td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Corpus:</span>
		<table class="optgroup">
		  <tr tal:repeat="r src">
		    <td tal:repeat="c r">
		      <input name="src" tal:condition="c" tal:attributes="value c/id; checked python:TALdecode(c.id,1,1)" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
		  </table>
		</td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td valign="top"><span class="descriptor">Status:</span>
		<table class="optgroup">
		  <tr tal:repeat="r stat">
		    <td tal:repeat="c r"> 
		      <input name="stat" tal:condition="c" tal:attributes="value c/id; checked python:TALdecode(c.kw,'A',1,'N',1)" tal:content="c/descr" type="checkbox"/> 
		      </td>
		    </tr>
		  </table>
		</td>
	      <td valign="top"><span class="descriptor">Approval:</span>
		<table class="optgroup">
		  <tr>
		    <td><input name="appr" value="appr" type="checkbox">Approved</td>
		    <td><input name="appr" value="unappr" type="checkbox">Unapproved</td>
		    </tr>
		  </table>
		</td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Frequency of use:</span><br/>
	        <span tal:repeat="z freq" class="optgroup">
		  <input name="freq" tal:attributes="value z" tal:content="z" type="checkbox"/> 
	          </span> 
	        <br/><span class="optgroup">
	          <input name="freq" value="nf" type="checkbox"/>nf
	          <select name="nfcmp">
	            <option selected="selected">&lt;=</option>
	            <option>=</option>
	            <option>&gt;=</option>
	            </select>
	          <input name="nfval" size="2"/>
	          &nbsp;&nbsp;
	          <input name="freq" value="ga" type="checkbox"/>gA
	          <select name="gacmp">
	            <option>&lt;=</option>
	            <option>=</option>
	            <option selected="selected">&gt;=</option>
	            </select>
	          <input name="gaval" size="8"/>
		  </span>
	        </td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td><span class="descriptor">Kanji info:</span>
		<table class="optgroup">
		  <tr tal:repeat="r kinf">
		    <td tal:repeat="c r">
		      <input name="kinf" tal:condition="c" tal:attributes="value c/id" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
		  </table>
		</td>

	      <td><span class="descriptor">Reading info:</span>
		<table class="optgroup">
		  <tr tal:repeat="r rinf">
		    <td tal:repeat="c r">
		      <input name="rinf" tal:condition="c" tal:attributes="value c/id" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
		  </table>
		</td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Part-of-speech attributes:</span>
	        <table class="optgroup">
		  <tr tal:repeat="r pos">
		    <td tal:repeat="c r"> 
		      <input name="pos" tal:condition="c" tal:attributes="value c/id" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
	          </table>
	        </td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Misc attributes:</span>
	        <table class="optgroup">
		  <tr tal:repeat="r misc">
		    <td tal:repeat="c r"> 
		      <input name="misc" tal:condition="c" tal:attributes="value c/id" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
	          </table>
	        </td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Field:</span>
	        <table class="optgroup">
		  <tr tal:repeat="r fld">
		    <td tal:repeat="c r">
		      <input name="fld" tal:condition="c" tal:attributes="value c/id" tal:content="c/kw" type="checkbox"/> 
		      </td>
		    </tr>
	          </table>
	        </td>
	      </tr>

	    <tr><td colspan="2"><hr width="100%"/></td></tr>
	    <tr>
	      <td colspan="2"><span class="descriptor">Groups:</span>
	        <input name="grp" size="60"/>
		<span class="notes"> (Separate multiple groups with spaces.)</span>
	        </td>
	      </tr>

	    </table>
	  </td>
        </tr>
      </table>
    </form>

<span class="notes">
  Notes...
  <ul>
    <li>ID search superceeds all other criteria.  If you want to search by 
      any of the other criteria, make sure the Value text box is empty.</li>
    <li>The text search rows and other sections are ANDed together.</li> 
    <li>Within the attribute sections, all selections are ORed together.
      For example, if both "suf" and "pref" are checked in the PoS section, 
      entries that are either suffixes or prefixes will be found.</li>
    <li>If "Search In" is Auto, the given text will be searched for according 
      to the characters in the search string.  If the search string contains:
      <ul> 
	<li>any kanji characters: the kanji table is searched.</li>
	<li>kana characters but no kanji: the reading table is searched.</li>
	<li>neither kanji nor kana characters: the gloss table is searched.</li>
	</ul>
      You can explicitly specify the table if you want to override this (to search
      for kanji strings that contain a particular kana substring for example.)
      </li>
    <li>If Freqency of Use criteria are given, an entry will match if the critera
       occur in either the reading FoU or the kanji FoU.</li>
    <li>When criteria are ANDed, they are considered across the entire entry.
      For example if a gloss string and a PoS atrribute are specified, any entry 
      containing both will returned, even when they occur in different senses.</li>
    <li>For an explanation of the attribute codes, see 
      <a href="http://www.csse.monash.edu.au/~jwb/wwwjdicinf.html#code_tag">this page</a>.</li>
    </ul>
  </span>
<hr width="100%"/>
<div metal:use-macro="macros/macros/footer"></div>
</body>
</html>
