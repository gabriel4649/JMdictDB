<html xmlns:tal="http://www.owlfish.com/simpletal/4.1/">
<!--? Copyright (c) 2008-2010 Stuart McGraw -->
<!--? $Revision$ $Date$ -->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../jmdict.css"/>
  <title>JMdict search results</title>
</head>
<body class="srchres">
  <div metal:use-macro="macros/macros/login">
    <h3 metal:fill-slot="title">Search Results</h3>
    </div>
  <div class="results">
    <form action="srchres.py" tal:condition="python:p1&lt;pt and len(results)&gt;10"  tal:attributes="method method">
      <input name="next" value="Next page" type="submit"/> 
      <input type="hidden" name="pt" tal:attributes="value pt"/>
      <input type="hidden" name="p0" tal:attributes="value p0"/>
      <input type="hidden" name="p1" tal:attributes="value p1"/>
      <input type="hidden" name="soj" tal:condition="soj" tal:attributes="value soj"/>
      <input type="hidden" name="sql" tal:condition="sql" tal:attributes="value sql"/>
      <input type="hidden" name="svc" tal:condition="svc" tal:attributes="value svc"/>
      <input type="hidden" name="sid" tal:condition="sid" tal:attributes="value sid"/>
      </form>
    <form action="entr.py" tal:attributes="method method">
      <span class="caution" tal:condition="not:results">
	No entries found.
	</span>
      <span tal:condition="results" tal:omit-tag="">
        <span class="count">
 	  <span tal:replace="pt"/> matching entries found.
	  <span tal:condition="python:p1&lt;pt or p0&gt;0" tal:omit-tag="">
	    Showing entries <span tal:replace="python:p0+1"/>
	    to <span tal:replace="p1"/>.
	    </span>
	  </span>
	<span class="notes">
	  <br/>
          Only limited information is shown for each entry. 
	  To view the full entries, click the sequence number link
          or use the checkboxes and the Display button.
	  See additional notes at bottom of page.
          </span>
	</span>
      <span tal:condition="python:len(results)&gt;10">
	<br/>
        <input name="show" value="Display selected entries" type="submit"/> 
        <input value="Reset" type="reset"/> 
	</span>
      <table class="reslist" tal:condition="results">
	<tr class="heading">
	  <th> </th>
	  <th>Seqnum</th>
	  <th>S</th>
	  <th>P</th>
	  <th>Kanji</th>
	  <th>Reading</th>
	  <th>Gloss</th>
	  </tr>
	<tr class="resrow" tal:repeat="r results">
	  <td><input type="checkbox" name="e" tal:attributes="value r/id"/></td>
	  <td class="seq">
	    <span tal:replace="python:TALabbr('SRC',r.src)"/>
	    <a tal:content="r/seq" tal:attributes="href string:entr.py?svc=${svc}&amp;sid=${sid}&amp;e=${r/id}"/>
	    </td>
	  <td>
	    <span tal:condition="not:r/unap" tal:replace="python:TALabbr('STAT',r.stat)"/>
	    <span tal:condition="r/unap" class="pend">
	      <span tal:replace="python:TALabbr('STAT',r.stat)"/>*</span>
	    </td>
	  <td>
	    <span tal:condition="r/p" tal:omit-tag="">P</span>
	    &nbsp;
	    </td>
	  <td class="kanj" tal:content="r/kanj"/>
	  <td class="rdng" tal:content="r/rdng"/>
	  <td class="gloss" tal:content="r/gloss"/>
	  </tr>
	</table>
      <input name="show" value="Display selected entries" type="submit" tal:condition="results"/> 
      <input value="Reset" type="reset" tal:condition="results"/> 
      <input type="hidden" name="svc" tal:condition="svc" tal:attributes="value svc"/>
      <input type="hidden" name="sid" tal:condition="sid" tal:attributes="value sid"/>
      </form>
    <form action="srchres.py" tal:condition="python:p1&lt;pt and len(results)!=0" tal:attributes="method method">
      <input name="next" value="Next page" type="submit"/> 
      <input type="hidden" name="pt"  tal:attributes="value pt"/>
      <input type="hidden" name="p0"  tal:attributes="value p0"/>
      <input type="hidden" name="p1"  tal:attributes="value p1"/>
      <input type="hidden" name="soj" tal:condition="soj" tal:attributes="value soj"/>
      <input type="hidden" name="sql" tal:condition="sql" tal:attributes="value sql"/>
      <input type="hidden" name="svc" tal:condition="svc" tal:attributes="value svc"/>
      <input type="hidden" name="sid" tal:condition="sid" tal:attributes="value sid"/>
      </form>
    </div>
  <span class="notes">
    <br/>Notes...
    <ul>
      <li>Only the first kanji and first reading are shown for each entry.
      </li><li>Results are sorted by kanji, then reading, then sequence 
	number, then entry id number (which is not shown).
      </li><li>The "Seqnum" column lists the dictionary name, and the sequence
        number of each entry.  Note that there may be multiple entries with
        the same dictionary and sequence number that represent different edits
	of the same base entry.
      </li><li>The "S" column shows the status of the entry: 
	A: active, D: deleted, R: rejected.
	If followed by an astrisk (*), the entry is unapproved and is
	waiting for approval by an editor.
      </li><li>
	The "P" column indicates an entry that is marked as P (popular)
	in EDICT.
      </li><li>The "Gloss" column lists all glosses in all senses of the 
	entry with senses being separated with a "/" character, and glosses
        within a sense separated with a ";" character.
      </li></ul>
      <hr/>
    </span>
  <div metal:use-macro="macros/macros/footer"></div>
  <div class="results" tal:condition="debug">
    <span class="debug">
      sql = <span tal:replace="stats/sql"/><br/>
      args = <span tal:replace="stats/args"/><br/>
      orderby = <span tal:replace="stats/orderby"/><br/>
      cost = <span tal:replace="stats/cost"/><br/>
      time = <span tal:replace="stats/dbtime"/><br/>
      </span>
    </div>
  </body>
</html>
