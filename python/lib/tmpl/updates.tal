<html xmlns:tal="http://www.owlfish.com/simpletal/4.1/">
<!--? Copyright (c) 2015 Stuart McGraw -->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../jmdict.css"/>
  <title>JMdictDB - Japanese Dictionary Database - View Updates</title>
</head>
<body>
  <div metal:use-macro="macros/macros/login">
    <h3 metal:fill-slot="title">Database Updates</h3>
    </div>
  <div class="results"> 
    <br/>Use this page to view the additions and amendments to the JMdictDB
    database for particular days. Dates used are in Coordinated Universal Time (UTC, 
    formerly GMT).  Select a date and click on "View":<br/>
    <FORM ACTION="updates.py" METHOD="GET">
      <select NAME="y">
        <option tal:repeat="y years" tal:attributes="value y/0" tal:content="y/0"/>
        </select>
      <select NAME="m"><option SELECTED VALUE="01" > 01</option>
        <option VALUE="02" > 02</option>
        <option VALUE="03" > 03</option>
        <option VALUE="04" > 04</option>
        <option VALUE="05" > 05</option>
        <option VALUE="06" > 06</option>
        <option VALUE="07" > 07</option>
        <option VALUE="08" > 08</option>
        <option VALUE="09" > 09</option>
        <option VALUE="10" > 10</option>
        <option VALUE="11" > 11</option>
        <option VALUE="12" > 12</option>
        </select>
      <select NAME="d">
        <option SELECTED VALUE="01" > 01</option>
        <option VALUE="02" > 02</option>
        <option VALUE="03" > 03</option>
        <option VALUE="04" > 04</option>
        <option VALUE="05" > 05</option>
        <option VALUE="06" > 06</option>
        <option VALUE="07" > 07</option>
        <option VALUE="08" > 08</option>
        <option VALUE="09" > 09</option>
        <option VALUE="10" > 10</option>
        <option VALUE="11" > 11</option>
        <option VALUE="12" > 12</option>
        <option VALUE="13" > 13</option>
        <option VALUE="14" > 14</option>
        <option VALUE="15" > 15</option>
        <option VALUE="16" > 16</option>
        <option VALUE="17" > 17</option>
        <option VALUE="18" > 18</option>
        <option VALUE="19" > 19</option>
        <option VALUE="20" > 20</option>
        <option VALUE="21" > 21</option>
        <option VALUE="22" > 22</option>
        <option VALUE="23" > 23</option>
        <option VALUE="24" > 24</option>
        <option VALUE="25" > 25</option>
        <option VALUE="26" > 26</option>
        <option VALUE="27" > 27</option>
        <option VALUE="28" > 28</option>
        <option VALUE="29" > 29</option>
        <option VALUE="30" > 30</option>
        <option VALUE="31" > 31</option>
        </select>
      <input type="submit" value="View"/>  &nbsp; <input type="reset" value="Reset"/>
      <input type="hidden" name="svc" tal:condition="svc" tal:attributes="value svc"/>
      <input type="hidden" name="sid" tal:condition="sid" tal:attributes="value sid"/>
      <input type="hidden" name="dbg" tal:condition="dbg" tal:attributes="value dbg"/>
      </form>

    <p>Or select one of the links below:</p>

    <p>
      <a tal:attributes="href string:updates.py?svc=${svc}&amp;sid=${sid}">Today</a>
      &nbsp;&nbsp;&nbsp;&nbsp;
      <a tal:attributes="href string:updates.py?svc=${svc}&amp;sid=${sid}&amp;n=1">Yesterday</a>
      <p/>

    <p>
      <span tal:repeat="y years" tal:omit-tag="">
        <a tal:attributes="href string:updates.py?svc=${svc}&amp;sid=${sid}&amp;i=1&amp;y=${y/0}" 
           tal:content="string:${y/0}&nbsp;Updates">$y Updates</a>&nbsp;&nbsp;&nbsp;&nbsp;
        </span>
      </p>

    <p>Previous days (<span tal:replace="string:${year}"/>):</p>
    <span tal:repeat="d days">
      <span tal:define="global month python:(TALm2mn(d[1]))+' %0.2d'%d[0]">
        <p tal:condition="python:month!=prevmonth" tal:content="month"/>
        <a tal:attributes="href string:updates.py?svc=${svc}&amp;sid=${sid}&amp;y=${d/0}&amp;m=${d/1}&amp;d=${d/2}"
           tal:content="python:'%s-%0.2d-%0.2d'%(d[0],d[1],d[2])">${y}-${m}-${d}</a>&nbsp;&nbsp;&nbsp;
        <span tal:omit-tag="" tal:define="global prevmonth string:${month}"/>
        </span>
      </span>
    </div>
  </body></html>
